<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î–ª—è –ú–∞—à–∏ ‚ù§Ô∏è</title>

<style>
body {
  margin: 0;
  background: #fff0f5;
  font-family: "Georgia", serif;
  height: 100vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

#app {
  z-index: 2;
  padding: 20px;
  max-width: 600px;
}

.text {
  color: #ff2e63;
  font-size: 24px;
  line-height: 1.6;
  opacity: 0;
  transition: opacity 1s ease;
}

.big {
  font-size: 30px;
  font-weight: bold;
}

.btn {
  margin-top: 25px;
  padding: 14px 28px;
  border-radius: 18px;
  border: 2px solid #ff2e63;
  background: white;
  color: #ff2e63;
  font-size: 20px;
  cursor: pointer;
  transition: .3s;
}

.btn:hover {
  background: #ff2e63;
  color: white;
}

.buttons {
  display: flex;
  gap: 15px;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 25px;
}

.num {
  width: 70px;
  height: 70px;
  border-radius: 18px;
  border: 2px solid #ff2e63;
  background: white;
  color: #ff2e63;
  font-size: 24px;
  line-height: 70px;
  cursor: pointer;
  transition: .3s;
}

.num.wrong {
  background: #ff6b6b;
  color: white;
}

.num.correct {
  background: #4cd137;
  color: white;
}

.heart {
  position: absolute;
  top: -40px;
  font-size: 24px;
  opacity: 0.6;
  animation: fall linear infinite;
}

@keyframes fall {
  from { transform: translateY(0); }
  to { transform: translateY(120vh); }
}

.word-box {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin: 20px 0;
}

.slot {
  width: 55px;
  height: 55px;
  border: 2px dashed #ff2e63;
  border-radius: 12px;
  font-size: 30px;
  line-height: 55px;
  color: #ff2e63;
}

.letters {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}

.letter {
  width: 55px;
  height: 55px;
  border-radius: 12px;
  border: 2px solid #ff2e63;
  background: white;
  color: #ff2e63;
  font-size: 30px;
  line-height: 55px;
  cursor: pointer;
}

#bigHeart {
  font-size: 120px;
  opacity: 0;
  transition: opacity 2s ease;
}
</style>
</head>

<body>
<div id="app"></div>

<script>
const app = document.getElementById("app");
const wait = ms => new Promise(r => setTimeout(r, ms));

// —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏
setInterval(() => {
  const h = document.createElement("div");
  h.className = "heart";
  h.innerHTML = "‚ù§Ô∏è";
  h.style.left = Math.random() * 100 + "vw";
  h.style.animationDuration = 5 + Math.random() * 4 + "s";
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 9000);
}, 600);

async function showText(text, big = false, withButton = false) {
  app.innerHTML = "";
  const t = document.createElement("div");
  t.className = "text" + (big ? " big" : "");
  t.innerHTML = text;
  app.appendChild(t);
  await wait(100);
  t.style.opacity = 1;

  if (withButton) {
    const b = document.createElement("button");
    b.className = "btn";
    b.innerText = "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å";
    app.appendChild(b);
    return new Promise(resolve => b.onclick = resolve);
  }
}

async function numberGame() {
  await showText("–£–≥–∞–¥–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —á–∏—Å–ª–æ üí≠", true);

  const nums = [100, 6, 18, 78];
  const box = document.createElement("div");
  box.className = "buttons";
  app.appendChild(box);

  return new Promise(resolve => {
    nums.forEach(n => {
      const el = document.createElement("div");
      el.className = "num";
      el.innerText = n;
      el.onclick = async () => {
        if (n === 18) {
          el.classList.add("correct");
          await showText("–î–∞, —Ç—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤–∞ ‚ù§Ô∏è –ò–º–µ–Ω–Ω–æ 18 ‚Äî –≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!");
          await wait(2500);
          resolve();
        } else {
          el.classList.add("wrong");
          setTimeout(() => el.classList.remove("wrong"), 800);
        }
      };
      box.appendChild(el);
    });
  });
}

async function mainText() {
  const text1 = "–ú–∞—à–∞, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å –¥–ª—è —Ç–µ–±—è –∏ —Ç–≤–æ–∏—Ö —Ä–æ–¥–Ω—ã—Ö. –°–µ–≥–æ–¥–Ω—è —Ç–µ–±–µ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è 18 –ª–µ—Ç. –¢—ã —É–∂–µ –æ—á–µ–Ω—å –≤–∑—Ä–æ—Å–ª–∞—è –¥–µ–≤–æ—á–∫–∞ –∏ —Ç–µ–ø–µ—Ä—å —Å–∞–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—à—å –∫–∞–∂–¥–æ–µ —Å–≤–æ—ë —Ä–µ—à–µ–Ω–∏–µ.";await typeText(text1);
  await wait(15000);

  const text2 = "–ú–∞—à–∞, —Å–ø–∞—Å–∏–±–æ —Ç–µ–±–µ –∑–∞ –≤—Å—ë. –¢—ã –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è –¥–µ–≤–æ—á–∫–∞, –∏ —è —Ç–µ–±—è –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –ª—é–±–ª—é ‚ù§Ô∏è";
  await typeText(text2, true);
  await wait(15000);
}

async function typeText(text, big=false) {
  app.innerHTML = "";
  const el = document.createElement("div");
  el.className = "text" + (big ? " big" : "");
  el.style.opacity = 1;
  app.appendChild(el);

  for (let word of text.split(" ")) {
    el.innerHTML += word + " ";
    await wait(220);
  }
}

async function wordGame() {
  await showText("–£–≥–∞–¥–∞–π —Å–ª–æ–≤–æ üíå", true);

  const word = "–ú–ê–®–ê";
  const letters = ["–®","–¶","–†","–ê","–ó","–ú","–Ø"];

  app.innerHTML += `
    <div class="word-box">${"<div class='slot'></div>".repeat(5)}</div>
    <div class="letters"></div>
  `;

  const slots = document.querySelectorAll(".slot");
  const box = document.querySelector(".letters");

  letters.forEach(l => {
    const el = document.createElement("div");
    el.className = "letter";
    el.innerText = l;
    el.onclick = () => {
      for (let s of slots) {
        if (!s.innerText) {
          s.innerText = l;
          break;
        }
      }
      if ([...slots].map(s => s.innerText).join("") === word) finish();
    };
    box.appendChild(el);
  });
}

async function finish() {
  await showText("–î–∞, —Ç—ã –ø—Ä–∞–≤–∞, –ú–∞—à–∞ ‚ù§Ô∏è", true);
  await wait(3000);
  app.innerHTML = <div id="bigHeart">‚ù§Ô∏è</div>;
  await wait(200);
  document.getElementById("bigHeart").style.opacity = 1;
}

async function start() {
  await showText("–≠—Ç–æ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ç–µ–±—è, –ú–∞—à–∞ ‚ù§Ô∏è", true, true);
  await numberGame();
  await mainText();
  await wordGame();
}

start();
</script>
</body>
</html>
