<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î–ª—è –ú–∞—à–∏ ‚ù§Ô∏è</title>

<style>
body {
    margin: 0;
    background: #fff0f5;
    height: 100vh;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: Georgia, serif;
    text-align: center;
}

#container {
    z-index: 2;
    padding: 20px;
}

.text {
    color: #ff2e63;
    font-size: 26px;
    line-height: 1.6;
    opacity: 0;
    transition: opacity 1s ease;
}

.big {
    font-size: 32px;
    font-weight: bold;
}

.buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 25px;
}

.btn {
    padding: 15px 22px;
    font-size: 22px;
    border-radius: 15px;
    background: white;
    border: 2px solid #ff2e63;
    color: #ff2e63;
    cursor: pointer;
    transition: all .3s;
}

.btn.wrong {
    background: #ff6b6b;
    color: white;
}

.btn.correct {
    background: #4cd137;
    color: white;
}

.heart {
    position: absolute;
    top: -40px;
    font-size: 26px;
    animation: fall 6s linear infinite;
    opacity: .6;
}

@keyframes fall {
    from { transform: translateY(0); }
    to { transform: translateY(120vh); }
}

.word-box {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 20px 0;
}

.slot {
    width: 55px;
    height: 55px;
    border: 2px dashed #ff2e63;
    border-radius: 10px;
    font-size: 30px;
    line-height: 55px;
    color: #ff2e63;
}

.letters {
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
}

.letter {
    width: 55px;
    height: 55px;
    background: white;
    border-radius: 10px;
    border: 2px solid #ff2e63;
    font-size: 30px;
    line-height: 55px;
    color: #ff2e63;
    cursor: pointer;
}

#bigHeart {
    font-size: 120px;
    opacity: 0;
    transition: opacity 2s ease;
}
</style>
</head>

<body>
<div id="container"></div>

<script>
const container = document.getElementById("container");
const wait = ms => new Promise(r => setTimeout(r, ms));

// —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏
setInterval(() => {
    const h = document.createElement("div");
    h.className = "heart";
    h.innerHTML = "‚ù§Ô∏è";
    h.style.left = Math.random() * 100 + "vw";
    h.style.animationDuration = 4 + Math.random() * 4 + "s";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 8000);
}, 500);

async function showText(text, big=false) {
    container.innerHTML = "";
    const el = document.createElement("div");
    el.className = "text" + (big ? " big" : "");
    el.innerHTML = text;
    container.appendChild(el);
    await wait(100);
    el.style.opacity = 1;
    return el;
}

async function numberGame() {
    await showText("–£–≥–∞–¥–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —á–∏—Å–ª–æ üí≠", true);

    const nums = [100, 6, 18, 78];
    const box = document.createElement("div");
    box.className = "buttons";
    container.appendChild(box);

    return new Promise(resolve => {
        nums.forEach(n => {
            const b = document.createElement("div");
            b.className = "btn";
            b.innerText = n;
            b.onclick = async () => {
                if (n === 18) {
                    b.classList.add("correct");
                    await showText("–î–∞, —Ç—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤–∞ üíñ –ò–º–µ–Ω–Ω–æ 18 ‚Äî –≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!");
                    await wait(2500);
                    resolve();
                } else {
                    b.classList.add("wrong");
                }
            };
            box.appendChild(b);
        });
    });
}

async function mainText() {
    const t1 = "–ú–∞—à–∞, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å –¥–ª—è —Ç–µ–±—è –∏ –¥–ª—è —Ç–≤–æ–∏—Ö —Ä–æ–¥–Ω—ã—Ö. –°–µ–≥–æ–¥–Ω—è —Ç–µ–±–µ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è 18 –ª–µ—Ç. –¢—ã —É–∂–µ –æ—á–µ–Ω—å –≤–∑—Ä–æ—Å–ª–∞—è –¥–µ–≤–æ—á–∫–∞ –∏ —Ç–µ–ø–µ—Ä—å —Å–∞–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—à—å –∫–∞–∂–¥–æ–µ —Å–≤–æ—ë —Ä–µ—à–µ–Ω–∏–µ.";
    await typeByWords(t1);
    await wait(15000);

    const t2 = "–ú–∞—à–∞, —Å–ø–∞—Å–∏–±–æ —Ç–µ–±–µ –∑–∞ –≤—Å—ë. –¢—ã –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è –¥–µ–≤–æ—á–∫–∞, –∏ —è —Ç–µ–±—è –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –ª—é–±–ª—é ‚ù§Ô∏è";
    await typeByWords(t2, true);
    await wait(15000);
}

async function typeByWords(text, big=false) {container.innerHTML = "";
    const el = document.createElement("div");
    el.className = "text" + (big ? " big" : "");
    container.appendChild(el);
    el.style.opacity = 1;

    for (let w of text.split(" ")) {
        el.innerHTML += w + " ";
        await wait(250);
    }
}

async function wordGame() {
    await showText("–£–≥–∞–¥–∞–π —Å–ª–æ–≤–æ üíå", true);

    const word = "–ú–ê–®–ê";
    const letters = ["–®","–¶","–†","–ê","–ó","–ú","–Ø"];

    container.innerHTML += `
        <div class="word-box">${"<div class='slot'></div>".repeat(5)}</div>
        <div class="letters"></div>
    `;

    const slots = document.querySelectorAll(".slot");
    const box = document.querySelector(".letters");

    letters.forEach(l => {
        const el = document.createElement("div");
        el.className = "letter";
        el.innerText = l;
        el.onclick = () => {
            for (let s of slots) {
                if (!s.innerText) {
                    s.innerText = l;
                    break;
                }
            }
            if ([...slots].map(s=>s.innerText).join("") === word) finish();
        };
        box.appendChild(el);
    });
}

async function finish() {
    await showText("–î–∞, —Ç—ã –ø—Ä–∞–≤–∞, –ú–∞—à–∞ ‚ù§Ô∏è", true);
    await wait(3000);
    container.innerHTML = <div id="bigHeart">‚ù§Ô∏è</div>;
    await wait(200);
    document.getElementById("bigHeart").style.opacity = 1;
}

async function start() {
    await showText("–≠—Ç–æ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ç–µ–±—è, –ú–∞—à–∞ ‚ù§Ô∏è", true);
    await wait(5000);
    await showText("–ù–∞–∂–º–∏ –≤ –ª—é–±—É—é —Ç–æ—á–∫—É —ç–∫—Ä–∞–Ω–∞");

    document.body.onclick = async () => {
        document.body.onclick = null;
        await numberGame();
        await mainText();
        await wordGame();
    };
}

start();
</script>
</body>
</html>
